# Telegram Auto-Reply Bot for Groups

Бот автоматически отвечает в группах на сообщения, которые пришли в нерабочее время.  

---

## Возможности

- Отслеживание сообщений в группах.
- Автоответ в нерабочее время (по умолчанию с 09:00 до 18:00 Пн–Пт).
- Защита от спама — автоответ не отправляется чаще чем 1 раз в 10 минут на одну группу.
- Хранение времени последнего автоответа в JSON-файле (`last_sent.json`).
- Логирование событий через `loguru` в файл и консоль.

---

## Требования

- Python 3.10+
- Библиотеки из `requirements.txt` (aiogram, python-dotenv, pytz, loguru и др.)

---

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/stekorne/telegram-auto-reply-bot.git
   cd telegram-auto-reply-bot
   ```

2. Создайте и активируйте виртуальное окружение:

   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/macOS
   venv\Scripts\activate     # Windows
   ```
   
3. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

4. Создайте файл .env рядом с основным скриптом и добавьте туда токен бота:

   ```env
   TELEGRAM_BOT_TOKEN=ваш_токен_бота_от_BotFather
   ```
   
## Настройка бота в Telegram
1. Создайте бота через [@BotFather](https://t.me/BotFather), получите токен.
2. Пригласите бота в каждую из групп, где хотите, чтобы он работал.
3. Чтобы бот мог читать сообщения и отправлять ответы, дайте ему права администратора в группе с правом приглашать пользователя по ссылке.

> Важно: Право "приглашать пользователей по ссылке" необходимо, чтобы бот мог видеть новые участники и читать сообщения в группах. Без этого права некоторые сообщения могут быть недоступны боту.


## Запуск бота
  ```bash
  python main.py
  ```
